# Autogenerated configuration file template
# DO NOT EDIT. THIS FILE GENERATED BY PUPPET
#################################
#################################
# aaaa-additional-processing    turn on to do AAAA additional processing (slow)
#
# aaaa-additional-processing=off
aaaa-additional-processing=<%= @aaaa_additional_processing -%> 

#################################
# allow-from    If set, only allow these comma separated netmasks to recurse
#
# allow-from=127.0.0.0/8, 10.0.0.0/8, 192.168.0.0/16, 172.16.0.0/12, ::1/128, fe80::/10
<% unless @allow_from_file -%>
allow-from=<%= @allow_from.join(', ') %>
<% end -%>

#################################
# allow-from-file   If set, load allowed netmasks from this file
#
# allow-from-file=
<% if @allow_from_file %>
allow-form-file=<%= @allow_from_file %>
<% end %>

#################################
# auth-can-lower-ttl    If we follow RFC 2181 to the letter, an authoritative server can lower the TTL of NS records
#
# auth-can-lower-ttl=off

#################################
# auth-zones    Zones for which we have authoritative data, comma separated domain=file pairs 
#
# auth-zones=
<% if @auth_zones -%>
auth-zones=<%= @auth_zones.join(', ') -%>
<% end -%>

#################################
# chroot    switch to chroot jail
#
# chroot=
<% if @chroot -%>
chroot=<% @chroot -%>
<% end -%>

#################################
# client-tcp-timeout    Timeout in seconds when talking to TCP clients
#
# client-tcp-timeout=2
client-tcp-timeout=<%= @client_tcp_timeout -%>

#################################
# config-dir    Location of configuration directory (recursor.conf)
#
# config-dir=/etc/powerdns/
config-dir=<%= @config_dir -%>

#################################
# daemon    Operate as a daemon
#
# daemon=yes
daemon=<%= @daemon -%>

#################################
# delegation-only   Which domains we only accept delegations from
#
# delegation-only=
<% if @delegation_only -%>
delegation=<%= @delegation_only -%>
<% end -%>

#################################
# disable-edns  Disable EDNS
#
# disable-edns=
<% if @disable_edns -%>
disable-edns=<%= @disable_edns -%>
<% end -%>

#################################
# disable-edns-ping Disable EDNSPing
#
# disable-edns-ping=no
disable-edns-ping=<%= @disable_edns_ping -%>

#################################
# disable-packetcache   Disable packetcache
#
# disable-packetcache=no
disable-packetcache=<%= @disable_packetcache -%>

#################################
# dont-query    If set, do not query these netmasks for DNS data
#
# dont-query=127.0.0.0/8, 10.0.0.0/8, 192.168.0.0/16, 172.16.0.0/12, ::1/128, fe80::/10
dont-query=<%= @dont_query.join(', ') -%>

#################################
# entropy-source    If set, read entropy from this file
#
# entropy-source=/dev/urandom
<% if @entropy_source -%>
entropy-source=<%= @entropy_source -%>
<% end -%>

#################################
# etc-hosts-file    Path to 'hosts' file
#
# etc-hosts-file=/etc/hosts

#################################
# export-etc-hosts  If we should serve up contents from /etc/hosts
#
# export-etc-hosts=off
export-etc-hosts=<%= @export_etc_hosts -%>

#################################
# forward-zones Zones for which we forward queries, comma separated domain=ip pairs
#
# forward-zones=
<% if @forward_zones -%>
forward-zones=<%= @forward_zones.join(', ') -%>
<% end -%>

#################################
# forward-zones-file    File with (+)domain=ip pairs for forwarding
#
# forward-zones-file=
<% if @forward_zones_file -%>
forward-zones-file=<%= @forward_zones_file -%>
<% end -%>

#################################
# forward-zones-recurse Zones for which we forward queries with recursion bit, comma separated domain=ip pairs
#
# forward-zones-recurse=
<% if @forward_zones_recurse -%>
forward-zones-recurse=<%= @forward_zones_recurse -%>
<% end -%>

#################################
# hint-file If set, load root hints from this file
#
# hint-file=
<% if @hint_file -%>
hint-file=<%= @hint_file -%>
<% end -%>

#################################
# ignore-rd-bit Assume each packet requires recursion, for compatability
#
# ignore-rd-bit=off
ignore-rd-bit=<%= @ignore_rd_bit -%>

#################################
# local-address IP addresses to listen on, separated by spaces or commas. Also accepts ports.
#
local-address=<%= @local_address.join(', ') -%>

#################################
# local-port    port to listen on
#
local-port=<%= @local_port -%>

#################################
# log-common-errors If we should log rather common errors
#
# log-common-errors=yes
log-common-errors=<%= @log_common_errors -%>

#################################
# logging-facility  Facility to log messages as. 0 corresponds to local0
#
# logging-facility=
<% if @logging_facility -%>
logging-facility=<%= @logging_facility -%>
<% end -%>

#################################
# lua-dns-script    Filename containing an optional 'lua' script that will be used to modify dns answers
#
# lua-dns-script=
<% if @lua_dns_script -%>
lua-dns-script=<%= @lua_dns_script -%>
<% end -%>

#################################
# max-cache-entries If set, maximum number of entries in the main cache
#
# max-cache-entries=1000000
max-cache-entries=<%= @max_cache_entries -%>

#################################
# max-cache-ttl maximum number of seconds to keep a cached entry in memory
#
# max-cache-ttl=86400
max-cache-ttl=<%= @max_cache_ttl -%>

#################################
# max-mthreads  Maximum number of simultaneous Mtasker threads
#
# max-mthreads=2048
max-mthreads=<%= @max_mthreads -%>

#################################
# max-negative-ttl  maximum number of seconds to keep a negative cached entry in memory
#
# max-negative-ttl=3600
max-negative-ttl=<%= @max_negative_ttl -%>

#################################
# max-packetcache-entries   maximum number of entries to keep in the packetcache
#
# max-packetcache-entries=500000
max-packetcache-entries=<%= @max_packetcache_entries -%>

#################################
# max-tcp-clients   Maximum number of simultaneous TCP clients
#
# max-tcp-clients=128
max-tcp-clients=<%= @max_tcp_clients -%>

#################################
# max-tcp-per-client    If set, maximum number of TCP sessions per client (IP address)
#
# max-tcp-per-client=0
max-tcp-per-client=<%= @max_tcp_per_client -%>

#################################
# network-timeout   Wait this nummer of milliseconds for network i/o
#
# network-timeout=1500
network-timeout=<%= @network_timeout -%>

#################################
# no-shuffle    Don't change
#
# no-shuffle=off

#################################
# packetcache-servfail-ttl  maximum number of seconds to keep a cached servfail entry in packetcache
#
# packetcache-servfail-ttl=60
packetcache-servfail-ttl=<%= @packetcache_servfail_ttl -%>

#################################
# packetcache-ttl   maximum number of seconds to keep a cached entry in packetcache
#
# packetcache-ttl=3600
packetcache-ttl=<%= @packetcache_ttl -%>

#################################
# pdns-distributes-queries  If PowerDNS itself should distribute queries over threads (EXPERIMENTAL)
#
# pdns-distributes-queries=no
pdns-distributes-queries=<%= @pdns_distributes_queries -%>

#################################
# processes Launch this number of processes (EXPERIMENTAL, DO NOT CHANGE)
#
# processes=1

#################################
# query-local-address   Source IP address for sending queries
#
# query-local-address=0.0.0.0
query-local-address=<%= @query_local_address -%>

#################################
# query-local-address6  Source IPv6 address for sending queries
#
# query-local-address6=
<% if @query_local_address6 -%>
query-local-address6=<%= @query_local_address6 -%>
<% end -%>

#################################
# quiet Suppress logging of questions and answers
#
quiet=<%= @quiet -%>

#################################
# remotes-ringbuffer-entries    maximum number of packets to store statistics for
#
# remotes-ringbuffer-entries=0
remotes-ringbuffer-entries=<%= @remotes_ringbuffer_entries -%>

#################################
# serve-rfc1918 If we should be authoritative for RFC 1918 private IP space
#
# serve-rfc1918=
<% if @serve_rfc1918 -%>
serve-rcf1918=<%= @serve_rfc1918 -%>
<% end -%>

#################################
# server-id Returned when queried for 'server.id' TXT or NSID, defaults to hostname
#
# server-id=
<% if @server_id -%>
server-id=<%= @server_id -%>
<% end -%>

#################################
# setgid    If set, change group id to this gid for more security
#
setgid=<%= @setgid -%>

#################################
# setuid    If set, change user id to this uid for more security
#
setuid=<%= @setuid -%>

#################################
# single-socket If set, only use a single socket for outgoing queries
#
# single-socket=off
single-socket=<%= @single_socket -%>

#################################
# soa-minimum-ttl   Don't change
#
# soa-minimum-ttl=0

#################################
# soa-serial-offset Don't change
#
# soa-serial-offset=0

#################################
# socket-dir    Where the controlsocket will live
#
# socket-dir=/var/run/
socket-dir=<%= @socket_dir -%>

#################################
# socket-group  Group of socket
#
# socket-group=
<% if @socket_group -%>
socket-group=<%= @socket_group -%>
<% end -%>

#################################
# socket-mode   Permissions for socket
#
# socket-mode=
<% if @socket_mode -%>
    socket-mode=<%= @socket_mode -%>
<% end -%>

#################################
# socket-owner  Owner of socket
#
# socket-owner=
<% if @socket_owner -%>
socket-owner=<%= @socket_owner -%>
<% end -%>

#################################
# spoof-nearmiss-max    If non-zero, assume spoofing after this many near misses
#
# spoof-nearmiss-max=20
spoof-nearmiss-max=<%= @spoof_nearmiss_max -%>

#################################
# stack-size    stack size per mthread
#
# stack-size=200000
stack-size=<%= @stack_size -%>

#################################
# threads   Launch this number of threads
#
# threads=2
threads=<%= @threads -%>

#################################
# trace if we should output heaps of logging
#
# trace=off
trace=<%= @trace -%>

#################################
# version-string    string reported on version.pdns or version.bind
#
# version-string=PowerDNS Recursor 3.3 $Id: pdns_recursor.cc 1712 2010-09-11 13:40:03Z ahu $
